{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block app_content %}
<script type="text/javascript" src="{{ url_for('web.static', filename='video-filter.js') }}"></script>

<div>
    <h1>Edit Channel</h1>
</div>
<div class="form">
    <form method="post" role="form">
        {{ form.hidden_tag() }}
        <div class="row">
            <div class="form-group">
                <div class="col-md-4">
                    <div class="control-group">
                        <label for="channelSelect">Select Channel</label>
                        <select name="select" class="form-control" id="channelSelect">
                            {% if channels %}
                                {% for channel in channels %}
                                    {% if selected_channel and selected_channel|int == channel.id|int %}
                            <option value="{{ channel.id }}" selected>[id:{{ channel.id }}] {{ channel.name }} ({{ channel.owner }})</option>
                                    {% else %}
                            <option value="{{ channel.id }}">[id:{{ channel.id }}] {{ channel.name }} ({{ channel.owner }})</option>
                                    {% endif %}
                                {% endfor %}
                            {% endif %}
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <button type="submit" class="btn btn-primary" name="button-select">Load</button>
            </div>
        </div>
        {% if selected_channel %}
            {% for channel in channels %}
                {% if selected_channel|int == channel.id|int %}
        <div class="row">
            <div class="container">
                <ul class="list-group">
                    <h2 class="list-group-item list-group-item-info">{{ channel.name }}</h2>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="form-group">
                <div class="col-md-4">
                    <label for="text-rename">Rename Channel</label>
                    <input type="text" class="form-control" name="text-rename-{{ channel.id }}" value="{{ channel.name }}" id="text-rename">
                    <input type="submit" class="btn btn-default" value="Rename" name="button-rename-{{ channel.id }}">
                </div>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="form-group">
                <div class="col-md-4">
                    <label for="buttons">Additional Controls</label><br>
                    <input type="submit" class="btn btn-default" value="Delete" name="button-delete-{{ channel.id }}" id="buttons">
                    <input type="submit" class="btn btn-default" value="Add" name="button-add-{{ channel.id }}">
                    <input type="submit" class="btn btn-default" value="Remove" name="button-remove-{{ channel.id }}">
                </div>
            </div>
        </div>
                {% endif %}
            {% endfor %}
        {% else %}
        <div class="row">
            <div class="container">
                <ul class="list-group">
                    <h2 class="list-group-item list-group-item-info">No Channel Selected</h2>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                Please use the drop down list above to select a channel.  Click "Load" to load the selected channel for editing.
            </div>
        </div>
        {% endif %}
        {% if videos %}
        <hr>
        <h3>Channel Videos</h3>
        <div class="row">
            <div class="col-md-12">
                {% for video_path, video_info in videos.items() %}
                <b>{{ video_path }}</b><br>
                    {% for id, filename, active in video_info %}
                        {% if active %}
                        <font color="black">{{ filename }}</font><br>
                        {% else %}
                        <font color="red">{{ filename }} [INACTIVE]</font><br>
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            </div>
        </div>
        {% endif %}
    </form>
</div>



{% endblock %}
